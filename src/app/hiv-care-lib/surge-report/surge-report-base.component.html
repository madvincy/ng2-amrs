<h4 class="component-title text-success"><span class="fa fa-area-chart"></span> Surge Reports</h4>

<div class="loader" *ngIf="isLoading">
    <span><i class="fa fa-spinner fa-spin"> </i>Loading...</span>
</div>

<p-tabView (onChange)="onTabChanged($event)">
    <div *ngIf="isReleased">
        <p-tabPanel header=" Daily" leftIcon="fa-calendar-o " [selected]="currentView === 'daily'">
            <report-filters [enabledControls]="enabledControls" [startWeekString]="yearWeek" [reportName]="reportName"
                (startWeekChange)="onStartWeekChange($event)" (generateReport)="generateReport()">
            </report-filters>
        </p-tabPanel>
    </div>
    <p-tabPanel header=" Weekly" leftIcon="fa-calendar" [selected]="currentView != 'daily'">
        <report-filters [enabledControls]="enabledControls" [startWeekString]="yearWeek" [reportName]="reportName"
            (startWeekChange)="onStartWeekChange($event)" (generateReport)="generateReport()">
        </report-filters>
    </p-tabPanel>
</p-tabView>

<div class="alert alert-danger fade in" *ngIf="showInfoMessage">
    <a href="#" class="close" data-dismiss="alert">&times;</a>
    <h4 *ngIf="!statusError"><strong><span class="glyphicon glyphicon-warning-sign"></span> </strong> An error occurred
        while trying to load the report.
        Please try again.
    </h4>
    <p>
        <small>{{errorMessage}}</small>
    </p>
</div>
<surge-report-tabular [surgeWeeklyReportSummaryData]="surgeWeeklyReportSummaryData" [sectionDefs]="columnDefs" 
    (indicatorSelected)="onIndicatorSelected($event)">
</surge-report-tabular>
